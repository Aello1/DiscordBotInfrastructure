{"version":3,"file":"Modal.js","sourceRoot":"","sources":["../../src/types/Modal.ts"],"names":[],"mappings":";;;AACA,+CAAuE;AAEvE,gDAAoD;AAUpD,MAAa,QAAS,SAAQ,gCAAkB;IAC9C,YAAY,GAAQ,EAAE,GAAqB;QACzC,KAAK,CAAC,GAAG,EAAE;YACT,GAAI,GAAW;YACf,IAAI,EAAE,OAAO;SACd,CAAC,CAAA;IACJ,CAAC;IAIQ,SAAS,CAAC,GAAwB,IAAwB,CAAC;IAAA,CAAC;IAErE,MAAM,CAAC,GAAG,UAAwC;QAChD,OAAO;YACL,GAAG,IAAI,CAAC,OAAO;YACf,QAAQ,EAAE,IAAA,0BAAe,EAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC;SACpD,CAAC;IACX,CAAC;IAAA,CAAC;CACH;AAlBD,4BAkBC","sourcesContent":["import { DBI } from \"../DBI\";\r\nimport { DBIBaseInteraction, IDBIBaseExecuteCtx } from \"./Interaction\";\r\nimport Discord from \"discord.js\";\r\nimport { customIdBuilder } from \"../utils/customId\";\r\n\r\nexport interface IDBIModalExecuteCtx extends IDBIBaseExecuteCtx {\r\n  interaction: Discord.ModalSubmitInteraction<Discord.CacheType>;\r\n\r\n  data: ({ [key: string]: any, $ref: string, $unRef(): boolean } | string | number)[];\r\n}\r\n\r\nexport type TDBIModalOmitted = Omit<DBIModal, \"type\" | \"description\" | \"dbi\" | \"toJSON\">;\r\n\r\nexport class DBIModal extends DBIBaseInteraction {\r\n  constructor(dbi: DBI, cfg: TDBIModalOmitted) {\r\n    super(dbi, {\r\n      ...(cfg as any),\r\n      type: \"Modal\"\r\n    })\r\n  }\r\n\r\n  declare options: Omit<Discord.ModalComponentData, \"customId\">;\r\n\r\n  override onExecute(ctx: IDBIModalExecuteCtx): Promise<any> | any { };\r\n\r\n  toJSON(...customData: (string | number | object)[]): Discord.ModalComponentData {\r\n    return {\r\n      ...this.options,\r\n      customId: customIdBuilder(this.dbi, this.name, customData)\r\n    } as any;\r\n  };\r\n}"]}